(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("D/wG"),n("L1EO"),n("JBxO"),n("FdtR");var o,r=function(e){return new Promise(function(t,n){fetch("http://api.weatherstack.com/current?access_key=02a147ec3a44e145b334fac4a63397f3&query="+e).then(function(e){console.log(),e.json().then(function(e){e.error?n(e.error.info):t(e)})})})},c=n("dIfx"),i=document.querySelector("#weather"),u=document.querySelector("#search-form"),a=document.querySelector('[name="city"]'),d=document.querySelector(".icon"),s=document.querySelector("[data-field=location]"),f=document.querySelector("[data-field=temp]"),l=document.querySelector("[data-field=humidity]"),m=document.querySelector("[data-field=wind]"),h=document.querySelector("[data-field=conditions]");function w(e){i.classList.remove("is-hidden"),d.setAttribute("src",e.current.weather_icons[0]),d.setAttribute("alt",e.current.weather_descriptions[0]),s.innerHTML=e.location.name+", "+e.location.region+", "+e.location.country,f.innerHTML=e.current.temperature,l.innerHTML=e.current.humidity,m.innerHTML=e.current.wind_speed+" kph, "+e.current.wind_dir,h.innerHTML=e.current.weather_descriptions[0]}function y(){i.classList.add("is-hidden")}(o={maximumAge:18e5,enableHighAccuracy:!0},new Promise(function(e,t){window.onload=function(){navigator.geolocation.getCurrentPosition(function(t){e(t.coords)},function(){t("Нет прав доступа к геопозиции, используйте поиск по имени города.")},o)}})).then(function(e){r(" "+e.latitude+", "+e.longitude).then(function(e){w(e)})}).catch(function(e){c.a.alert(e),y()}),u.addEventListener("submit",function(e){e.preventDefault(),r(a.value).then(function(e){w(e)}).catch(function(e){c.a.alert(e),y()})})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.b01ec95543b1f8a2e8bb.js.map